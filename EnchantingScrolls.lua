--[[----------------------------------------------------------------------------

    Copyright 2019 Mike Battersby

    This file is part of TradeSkillPrice.

    TradeSkillPrice is free software; you can redistribute it or modify it
    under the terms of the GNU General Public License as published by the Free
    Software Foundation, version 2, 1991.

    TradeSkillPrice is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
    or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
    for more details.

    See the file LICENSE.txt for details.

----------------------------------------------------------------------------]]--

-- Open the UI to enchanting first

local spellsByName = { }
local spellsByID = {}

function TSP:Precache()
    for i = 1, 250000 do
        GetItemSpell(i)
    end

    for _,id in ipairs(C_TradeSkillUI.GetAllRecipeIDs()) do
        GetSpellInfo(id)
    end
end

function TSP:ScanForScrolls()

    for _,id in ipairs(C_TradeSkillUI.GetAllRecipeIDs()) do
        local name = GetSpellInfo(spellID)
        spellsByID[id] = name
        spellsByName[name] = spellsByName[name] or {}
        table.insert(spellsByName[name], id)
    end

    self.db.scrollData = { }

    for itemID = 1, 250000 do
        local spellName, spellID = GetItemSpell(itemID)
        if spellID and spellsByID[spellID] then
            for _,id in ipairs(spellsByName[spellsByID[spellID]]) do
                self.db.scrollData[id] = itemID
            end
        end
    end
end


TSP.scrollData = {

    -- spellID, itemID
    [7418] = 38766,
    [7420] = 38766,
    [7426] = 38767,
    [7428] = 38768,
    [7443] = 38769,
    [7457] = 38787,
    [7745] = 38772,
    [7748] = 38773,
    [7766] = 38774,
    [7771] = 38775,
    [7776] = 38776,
    [7779] = 38789,
    [7782] = 38778,
    [7786] = 38779,
    [7788] = 38780,
    [7793] = 38803,
    [7857] = 38782,
    [7859] = 38819,
    [7863] = 38787,
    [7867] = 38789,
    [13378] = 38787,
    [13380] = 38819,
    [13419] = 38789,
    [13421] = 38791,
    [13464] = 38791,
    [13485] = 38819,
    [13501] = 38810,
    [13503] = 38794,
    [13529] = 38796,
    [13536] = 38797,
    [13538] = 38798,
    [13607] = 38799,
    [13612] = 38800,
    [13617] = 38801,
    [13620] = 38802,
    [13622] = 38803,
    [13626] = 38804,
    [13631] = 38810,
    [13635] = 38806,
    [13637] = 38835,
    [13640] = 38808,
    [13642] = 38864,
    [13644] = 38810,
    [13646] = 38904,
    [13648] = 52751,
    [13653] = 38813,
    [13655] = 38814,
    [13659] = 38864,
    [13661] = 38879,
    [13663] = 38818,
    [13687] = 38819,
    [13689] = 38820,
    [13693] = 38821,
    [13695] = 38822,
    [13698] = 38823,
    [13700] = 38824,
    [13746] = 38825,
    [13815] = 68784,
    [13817] = 52751,
    [13822] = 52753,
    [13836] = 52751,
    [13841] = 38831,
    [13846] = 38962,
    [13858] = 38833,
    [13868] = 38834,
    [13882] = 38835,
    [13887] = 38879,
    [13890] = 38837,
    [13898] = 38838,
    [13905] = 38962,
    [13915] = 38840,
    [13917] = 38841,
    [13931] = 38999,
    [13935] = 68784,
    [13937] = 38845,
    [13939] = 38857,
    [13941] = 38898,
    [13943] = 38848,
    [13945] = 52780,
    [13947] = 38850,
    [13948] = 38851,
    [20008] = 52773,
    [20009] = 38853,
    [20010] = 38854,
    [20011] = 74709,
    [20012] = 74705,
    [20013] = 38857,
    [20015] = 38859,
    [20016] = 38908,
    [20017] = 52780,
    [20020] = 52780,
    [20023] = 74705,
    [20024] = 38864,
    [20025] = 38987,
    [20026] = 38866,
    [20028] = 38867,
    [20029] = 38868,
    [20030] = 38869,
    [20031] = 38870,
    [20032] = 38871,
    [20033] = 38872,
    [20034] = 38873,
    [20035] = 38980,
    [20036] = 74729,
    [21931] = 38876,
    [22749] = 45060,
    [22750] = 38889,
    [23799] = 38879,
    [23800] = 68784,
    [23801] = 38881,
    [23802] = 38889,
    [23803] = 74707,
    [23804] = 68786,
    [25072] = 38885,
    [25073] = 38886,
    [25074] = 38887,
    [25078] = 38888,
    [25079] = 38889,
    [25080] = 38976,
    [25083] = 38893,
    [25084] = 38894,
    [25086] = 38999,
    [27837] = 68784,
    [27899] = 38897,
    [27905] = 38898,
    [27906] = 39002,
    [27911] = 38900,
    [27913] = 38929,
    [27914] = 38909,
    [27917] = 45060,
    [27944] = 38904,
    [27945] = 52753,
    [27946] = 38906,
    [27948] = 38908,
    [27950] = 38909,
    [27951] = 37603,
    [27954] = 38910,
    [27957] = 38911,
    [27958] = 38912,
    [27960] = 38913,
    [27961] = 38914,
    [27967] = 38917,
    [27968] = 74729,
    [27971] = 38919,
    [27972] = 38920,
    [27975] = 38935,
    [27977] = 52757,
    [27981] = 38923,
    [27982] = 38924,
    [27984] = 38925,
    [28003] = 38926,
    [28004] = 38927,
    [33990] = 38980,
    [33991] = 38929,
    [33992] = 38930,
    [33993] = 38931,
    [33994] = 38932,
    [33995] = 68785,
    [33996] = 44449,
    [33997] = 38935,
    [33999] = 38946,
    [34001] = 74729,
    [34002] = 38938,
    [34003] = 38939,
    [34004] = 74705,
    [34007] = 38943,
    [34008] = 38944,
    [34009] = 44947,
    [34010] = 38946,
    [42620] = 74705,
    [42974] = 38948,
    [44383] = 38949,
    [44484] = 52750,
    [44488] = 52769,
    [44489] = 38999,
    [44492] = 38955,
    [44500] = 38976,
    [44506] = 38960,
    [44508] = 38962,
    [44509] = 38962,
    [44510] = 52770,
    [44513] = 44815,
    [44524] = 38965,
    [44528] = 38966,
    [44529] = 52757,
    [44555] = 38968,
    [44575] = 44815,
    [44576] = 38972,
    [44582] = 38973,
    [44584] = 38974,
    [44588] = 38975,
    [44589] = 38976,
    [44591] = 52763,
    [44592] = 38991,
    [44593] = 38980,
    [44595] = 38981,
    [44598] = 52750,
    [44616] = 38987,
    [44621] = 38988,
    [44623] = 38989,
    [44625] = 38990,
    [44629] = 38991,
    [44630] = 38992,
    [44631] = 38993,
    [44633] = 38995,
    [44635] = 45056,
    [46578] = 38998,
    [46594] = 38999,
    [47051] = 39002,
    [47672] = 39001,
    [47766] = 39002,
    [47898] = 52785,
    [47899] = 39004,
    [47900] = 39005,
    [47901] = 39006,
    [59619] = 74710,
    [59621] = 44493,
    [59625] = 43987,
    [60606] = 44449,
    [60609] = 52746,
    [60616] = 44449,
    [60621] = 44453,
    [60623] = 38986,
    [60653] = 52773,
    [60663] = 52757,
    [60668] = 44458,
    [60691] = 44463,
    [60692] = 44465,
    [60707] = 44466,
    [60714] = 44467,
    [60763] = 44815,
    [60767] = 44470,
    [62256] = 44947,
    [62948] = 45056,
    [62959] = 45060,
    [63746] = 45628,
    [64441] = 46026,
    [64579] = 46098,
    [71692] = 50816,
    [74132] = 74700,
    [74189] = 52743,
    [74191] = 52744,
    [74192] = 52745,
    [74193] = 52746,
    [74195] = 52747,
    [74197] = 52748,
    [74198] = 52750,
    [74199] = 52750,
    [74200] = 52751,
    [74201] = 52764,
    [74202] = 52753,
    [74207] = 52767,
    [74211] = 52755,
    [74212] = 74704,
    [74213] = 52757,
    [74214] = 52758,
    [74220] = 74719,
    [74223] = 52760,
    [74225] = 52761,
    [74226] = 74700,
    [74229] = 52763,
    [74230] = 52764,
    [74231] = 52770,
    [74232] = 52769,
    [74234] = 52767,
    [74235] = 74712,
    [74236] = 52769,
    [74237] = 52770,
    [74238] = 74700,
    [74239] = 74719,
    [74240] = 52773,
    [74242] = 52774,
    [74244] = 52775,
    [74246] = 52776,
    [74247] = 52778,
    [74248] = 52778,
    [74250] = 52779,
    [74251] = 52780,
    [74252] = 52781,
    [74253] = 52782,
    [74254] = 52783,
    [74255] = 52784,
    [74256] = 52785,
    [95471] = 68134,
    [96261] = 68785,
    [96262] = 68786,
    [96264] = 68784,
    [104338] = 74700,
    [104385] = 74701,
    [104389] = 74703,
    [104390] = 74704,
    [104391] = 74705,
    [104392] = 74706,
    [104393] = 74707,
    [104395] = 74708,
    [104397] = 74709,
    [104398] = 74710,
    [104401] = 74711,
    [104403] = 74712,
    [104404] = 74713,
    [104407] = 74719,
    [104408] = 74716,
    [104409] = 74717,
    [104414] = 74718,
    [104416] = 74719,
    [104417] = 74720,
    [104419] = 74721,
    [104420] = 74722,
    [104425] = 74723,
    [104427] = 74724,
    [104430] = 74725,
    [104434] = 74726,
    [104440] = 74727,
    [104442] = 74728,
    [104445] = 74729,
    [130758] = 89737,
    [158877] = 110631,
    [158878] = 110632,
    [158879] = 110633,
    [158881] = 110635,
    [158884] = 110652,
    [158885] = 110653,
    [158886] = 110654,
    [158889] = 110656,
    [158892] = 110631,
    [158893] = 110632,
    [158894] = 110633,
    [158896] = 110635,
    [158899] = 110652,
    [158900] = 110653,
    [158901] = 110654,
    [158903] = 110656,
    [158907] = 110631,
    [158908] = 110632,
    [158909] = 110633,
    [158911] = 110635,
    [158914] = 110652,
    [158915] = 110653,
    [158916] = 110654,
    [158918] = 110656,
    [159235] = 110682,
    [159236] = 112093,
    [159671] = 112164,
    [159672] = 112165,
    [159673] = 112115,
    [159674] = 112160,
    [173323] = 118015,
    [190866] = 128537,
    [190867] = 128538,
    [190868] = 128539,
    [190869] = 128540,
    [190870] = 128541,
    [190871] = 128542,
    [190872] = 128543,
    [190873] = 128544,
    [190874] = 128545,
    [190875] = 128546,
    [190876] = 128547,
    [190877] = 128548,
    [190878] = 128549,
    [190879] = 128550,
    [190892] = 128551,
    [190893] = 128552,
    [190894] = 128553,
    [190954] = 128554,
    [190988] = 128558,
    [190989] = 128559,
    [190990] = 128560,
    [190991] = 128561,
    [190992] = 128537,
    [190993] = 128538,
    [190994] = 128539,
    [190995] = 128540,
    [190996] = 128541,
    [190997] = 128542,
    [190998] = 128543,
    [190999] = 128544,
    [191000] = 128545,
    [191001] = 128546,
    [191002] = 128547,
    [191003] = 128548,
    [191004] = 128549,
    [191005] = 128550,
    [191006] = 128551,
    [191007] = 128552,
    [191008] = 128553,
    [191009] = 128537,
    [191010] = 128538,
    [191011] = 128539,
    [191012] = 128540,
    [191013] = 128541,
    [191014] = 128542,
    [191015] = 128543,
    [191016] = 128544,
    [191017] = 128545,
    [191018] = 128546,
    [191019] = 128547,
    [191020] = 128548,
    [191021] = 128549,
    [191022] = 128550,
    [191023] = 128551,
    [191024] = 128552,
    [191025] = 128553,
    [228402] = 141908,
    [228403] = 141908,
    [228404] = 141908,
    [228405] = 141909,
    [228406] = 141909,
    [228407] = 141909,
    [228408] = 141910,
    [228409] = 141910,
    [228410] = 141910,
    [235695] = 144304,
    [235696] = 144305,
    [235697] = 144306,
    [235698] = 144307,
    [235699] = 144304,
    [235700] = 144305,
    [235701] = 144306,
    [235702] = 144307,
    [235703] = 144304,
    [235704] = 144305,
    [235705] = 144306,
    [235706] = 144307,
    [255071] = 153438,
    [255072] = 153439,
    [255073] = 153440,
    [255074] = 153441,
    [255075] = 153442,
    [255076] = 153443,
    [255077] = 153444,
    [255078] = 153445,
    [255086] = 153438,
    [255087] = 153439,
    [255088] = 153440,
    [255089] = 153441,
    [255090] = 153442,
    [255091] = 153443,
    [255092] = 153444,
    [255093] = 153445,
    [255094] = 153438,
    [255095] = 153439,
    [255096] = 153440,
    [255097] = 153441,
    [255098] = 153442,
    [255099] = 153443,
    [255100] = 153444,
    [255101] = 153445,
    [255103] = 153476,
    [255104] = 153476,
    [255105] = 153476,
    [255110] = 153478,
    [255111] = 153478,
    [255112] = 153478,
    [255129] = 153479,
    [255130] = 153479,
    [255131] = 153479,
    [255141] = 153480,
    [255142] = 153480,
    [255143] = 153480,
    [267458] = 159464,
    [267482] = 159466,
    [267486] = 159467,
    [267490] = 159468,
    [267498] = 159471,
    [268852] = 159788,
    [268878] = 159788,
    [268879] = 159788,
    [268894] = 159786,
    [268895] = 159786,
    [268897] = 159786,
    [268901] = 159787,
    [268902] = 159787,
    [268903] = 159787,
    [268907] = 159785,
    [268908] = 159785,
    [268909] = 159785,
}
